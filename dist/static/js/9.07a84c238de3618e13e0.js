webpackJsonp([9],{"/FbN":function(e,t){},tu6B:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("TEKD");var l={name:"",data:function(){return{radio:"1",tableData:[],dialogFormVisible:!1,typeOption:[],formLabelWidth:"120px",isButton:null,editID:null,addObject:{}}},created:function(){this.loadlist()},methods:{loadlist:function(){var e=this;this.$fetch(this.$api+"insuProductType/getAllInsuProductTypeList",{},this.$gateway.insurance).then(function(t){t.success&&0==t.code?e.typeOption=t.data:e.$message({type:"error",message:t.message})},function(t){e.$message({type:"error",message:res.message})}),this.$fetch(this.$api+"insuProduct/getAllInsuProductList",{},this.$gateway.insurance).then(function(t){t.success&&0==t.code?e.tableData=t.data:e.$message({type:"error",message:t.message})},function(t){e.$message({type:"error",message:res.message})})},add_open:function(e){this.dialogFormVisible=!0,this.addObject={defaultAmendsMoneyType:"1",defaultMoneyType:"1"}},clearziduan:function(){"1"==this.addObject.defaultMoneyType?this.addObject.defaultMoneyPercent="":"2"==this.addObject.defaultMoneyType&&(this.addObject.defaultMoney=""),"1"==this.addObject.defaultAmendsMoneyType?this.addObject.defaultAmendsMoneyPercent="":"2"==this.addObject.defaultAmendsMoneyType&&(this.addObject.defaultAmendsMoney="")},addlist:function(e){var t=this;this.$refs[e].clearValidate();var a=this;this.$refs[e].validate(function(e){e&&a.$post(a.$api+"insuProduct/saveInsuProduct",a.addObject,{headers:t.$gateway.insurance}).then(function(e){e.success&&0==e.code?(a.dialogFormVisible=!1,a.loadlist(),a.addObject={}):a.$message({type:"error",message:e.message})},function(e){console.log(e)})})},showRow:function(e){this.editID=this.tableData[this.tableData.indexOf(e)].id},edit_open:function(e){var t=this,a=this;null==a.editID||""==a.editID?this.$message({type:"error",message:"请选择一条数据"}):(a.dialogFormVisible=!0,a.$fetch(this.$api+"insuProduct/getInsuProductById/"+a.editID,{},this.$gateway.insurance).then(function(e){e.success&&0==e.code?(a.addObject=e.data,a.addObject.defaultMoneyType=a.addObject.defaultMoneyType.toString(),a.addObject.defaultAmendsMoneyType=a.addObject.defaultAmendsMoneyType.toString()):t.$message({type:"error",message:e.message})},function(e){t.$message({type:"error",message:e})}))},editList:function(e){var t=this;this.$refs[e].clearValidate();var a=this;this.$refs[e].validate(function(e){e&&(a.addObject.id=a.editID,a.$put(a.$api+"insuProduct/updateInsuProduct",a.addObject,{headers:t.$gateway.insurance}).then(function(e){e.success&&0==e.code?(a.dialogFormVisible=!1,a.loadlist(),a.addObject={}):a.$message({type:"error",message:e.message})},function(e){a.$message({type:"error",message:e})}))})}}},d={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"dialogBtn"},[a("el-button",{attrs:{size:"small"},on:{click:function(t){e.isButton=1,e.add_open("addObject")}}},[e._v("添加")]),e._v(" "),a("el-button",{attrs:{size:"small"},on:{click:function(t){e.isButton=2,e.edit_open("addObject")}}},[e._v("编辑")])],1),e._v(" "),a("el-table",{staticStyle:{"margin-top":"30px"},attrs:{data:e.tableData,border:"",size:"small","header-cell-class-name":"text_center"},on:{"row-click":e.showRow}},[a("el-table-column",{attrs:{width:"100px","header-align":"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-radio",{staticClass:"radio",attrs:{label:t.row.id},model:{value:e.radio,callback:function(t){e.radio=t},expression:"radio"}},[e._v(" ")])]}}])}),e._v(" "),a("el-table-column",{attrs:{type:"index",width:"100px","header-align":"center",label:"序号"}}),e._v(" "),a("el-table-column",{attrs:{prop:"typename","header-align":"center",label:"保险类型"}}),e._v(" "),a("el-table-column",{attrs:{prop:"pname","header-align":"center",label:"保险产品"}}),e._v(" "),a("el-table-column",{attrs:{prop:"company","header-align":"center",label:"保险公司"}}),e._v(" "),a("el-table-column",{attrs:{prop:"defaultMoney","header-align":"center",label:"默认保费"}}),e._v(" "),a("el-table-column",{attrs:{prop:"defaultAmendsMoney","header-align":"center",label:"默认理赔金额"}})],1),e._v(" "),a("el-dialog",{attrs:{title:"保险产品管理",visible:e.dialogFormVisible,width:"30%"},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[a("el-form",{ref:"addObject",attrs:{model:e.addObject}},[a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"保险类型",prop:"typecode","label-width":e.formLabelWidth,rules:[{required:!0,message:"保险类型不能为空",trigger:"blur"}]}},[a("el-select",{staticClass:"w194",attrs:{placeholder:"请选择保险类型"},model:{value:e.addObject.typecode,callback:function(t){e.$set(e.addObject,"typecode",t)},expression:"addObject.typecode"}},e._l(e.typeOption,function(e){return a("el-option",{key:e.typecode,attrs:{label:e.typename,value:e.typecode}})}),1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"保险产品",prop:"pname","label-width":e.formLabelWidth,rules:[{required:!0,message:"保险产品不能为空",trigger:"blur"}]}},[a("el-input",{staticClass:"w194",attrs:{placeholder:"请选择保险产品","auto-complete":"off"},model:{value:e.addObject.pname,callback:function(t){e.$set(e.addObject,"pname","string"==typeof t?t.trim():t)},expression:"addObject.pname"}})],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-form-item",{attrs:{label:"保险公司",prop:"company","label-width":e.formLabelWidth,rules:[{required:!0,message:"保险公司不能为空",trigger:"blur"}]}},[a("el-select",{staticClass:"w194",attrs:{placeholder:"请选择保险公司"},model:{value:e.addObject.company,callback:function(t){e.$set(e.addObject,"company",t)},expression:"addObject.company"}},[a("el-option",{attrs:{label:"平安",value:"平安"}}),e._v(" "),a("el-option",{attrs:{label:"亚太",value:"亚太"}})],1)],1)],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-radio",{staticStyle:{"margin-left":"120px"},attrs:{label:"1"},on:{change:e.clearziduan},model:{value:e.addObject.defaultMoneyType,callback:function(t){e.$set(e.addObject,"defaultMoneyType",t)},expression:"addObject.defaultMoneyType"}},[e._v("指定金额")]),e._v(" "),a("el-radio",{attrs:{label:"2"},on:{change:e.clearziduan},model:{value:e.addObject.defaultMoneyType,callback:function(t){e.$set(e.addObject,"defaultMoneyType",t)},expression:"addObject.defaultMoneyType"}},[e._v("按比例")]),e._v(" "),"1"==e.addObject.defaultMoneyType?a("el-form-item",{attrs:{label:"默认保费",prop:"defaultMoney","label-width":e.formLabelWidth,rules:[{required:!0,message:"默认保费不能为空",trigger:"blur"},{type:"number",message:"保费必须为数字值",trigger:"blur"}]}},[a("el-input",{staticClass:"w194",attrs:{placeholder:"请输入默认保费","auto-complete":"off"},model:{value:e.addObject.defaultMoney,callback:function(t){e.$set(e.addObject,"defaultMoney",e._n(t))},expression:"addObject.defaultMoney"}})],1):e._e(),e._v(" "),"2"==e.addObject.defaultMoneyType?a("el-form-item",{attrs:{label:"默认保费",prop:"defaultMoneyPercent","label-width":e.formLabelWidth,rules:[{required:!0,message:"保费比例不能为空",trigger:"blur"},{type:"number",message:"保费必须为数字值",trigger:"blur"}]}},[a("el-input",{staticClass:"w194",attrs:{placeholder:"请设定比例","auto-complete":"off"},model:{value:e.addObject.defaultMoneyPercent,callback:function(t){e.$set(e.addObject,"defaultMoneyPercent",e._n(t))},expression:"addObject.defaultMoneyPercent"}}),e._v("%\n                    ")],1):e._e()],1)],1),e._v(" "),a("el-row",[a("el-col",{attrs:{span:24}},[a("el-radio",{staticStyle:{"margin-left":"120px"},attrs:{label:"1"},on:{change:e.clearziduan},model:{value:e.addObject.defaultAmendsMoneyType,callback:function(t){e.$set(e.addObject,"defaultAmendsMoneyType",t)},expression:"addObject.defaultAmendsMoneyType"}},[e._v("指定金额")]),e._v(" "),a("el-radio",{attrs:{label:"2"},on:{change:e.clearziduan},model:{value:e.addObject.defaultAmendsMoneyType,callback:function(t){e.$set(e.addObject,"defaultAmendsMoneyType",t)},expression:"addObject.defaultAmendsMoneyType"}},[e._v("按比例")]),e._v(" "),"1"==e.addObject.defaultAmendsMoneyType?a("el-form-item",{attrs:{label:"默认理赔金额",prop:"defaultAmendsMoney","label-width":e.formLabelWidth,rules:[{required:!0,message:"默认理赔金额不能为空",trigger:"blur"}]}},[a("el-input",{staticClass:"w194",attrs:{placeholder:"请输入默认理赔金额","auto-complete":"off"},model:{value:e.addObject.defaultAmendsMoney,callback:function(t){e.$set(e.addObject,"defaultAmendsMoney","string"==typeof t?t.trim():t)},expression:"addObject.defaultAmendsMoney"}})],1):e._e(),e._v(" "),"2"==e.addObject.defaultAmendsMoneyType?a("el-form-item",{attrs:{label:"默认理赔金额",prop:"defaultAmendsMoneyPercent","label-width":e.formLabelWidth,rules:[{required:!0,message:"默认理赔金额不能为空",trigger:"blur"}]}},[a("el-input",{staticClass:"w194",attrs:{placeholder:"请设定比例","auto-complete":"off"},model:{value:e.addObject.defaultAmendsMoneyPercent,callback:function(t){e.$set(e.addObject,"defaultAmendsMoneyPercent","string"==typeof t?t.trim():t)},expression:"addObject.defaultAmendsMoneyPercent"}}),e._v("%\n                    ")],1):e._e()],1)],1),e._v(" "),1==e.isButton?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.addlist("addObject")}}},[e._v("确 定")]):e._e(),e._v(" "),2==e.isButton?a("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.editList("addObject")}}},[e._v("确 定")]):e._e(),e._v(" "),a("el-button",{on:{click:function(t){e.dialogFormVisible=!1}}},[e._v("取 消")])],1)],1)],1)},staticRenderFns:[]};var s=a("C7Lr")(l,d,!1,function(e){a("/FbN")},"data-v-aee939ba",null);t.default=s.exports}});
//# sourceMappingURL=9.07a84c238de3618e13e0.js.map