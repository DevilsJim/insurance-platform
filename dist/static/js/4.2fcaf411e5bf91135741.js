webpackJsonp([4],{Dq6M:function(e,t){},IHur:function(e,t,a){var n=a("A2+p"),s=a("H5bT");a("Y2FG")("keys",function(){return function(e){return s(n(e))}})},Y2FG:function(e,t,a){var n=a("2AZ7"),s=a("/KQr"),i=a("D86D");e.exports=function(e,t){var a=(s.Object||{})[e]||Object[e],o={};o[e]=t(a),n(n.S+n.F*i(function(){a(1)}),"Object",o)}},ZLEe:function(e,t,a){e.exports={default:a("m5p0"),__esModule:!0}},m5p0:function(e,t,a){a("IHur"),e.exports=a("/KQr").Object.keys},vLDF:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=a("ZLEe"),s=a.n(n),i=(a("TEKD"),a("ryJa")),o=a.n(i),l={name:"homeList",delimiters:["${","}"],data:function(){return{user:"",checkAll:!1,isIndeterminate:!1,currentPage:1,tableData:[],checkedCities:[],tabData:[{name:"全部",id:""},{name:"商标综合保险",id:"20"},{name:"果保专利保险",id:"4"},{name:"盲查保险",id:"1"}],formInline:{status:8,bodyName:"",applyCode:"",ordercode:"",devoteInsuStartTime:"",devoteInsuEndTime:"",company:JSON.parse(this.$Cookies.get("user")).nikename,productType:"",pageParam:{pageNo:1,pageSize:10}},header:["全选","保险编号","订单编号","申请号","投保日期","报案日期","被保险人名称","订单状态","保费","理赔金额"],data_list:[[1,2,3],[4,5,6]],is_import:!1,dialogTableVisible:!1,exporeExcelObject:{insuOrderVO:{},chArray:["订单号","商品名称","注册类别","商标超项数","申请日期","申请号","驳回类型","申请人","领款人名称","证件类型","证件号码","省份名称","城市名称","开户行","银行账户","领款人手机号","理赔金额","理赔限额","备注","报案时间"],enArray:["ordercode","applyName","category","itermNum","applyTime","applyCode","rejectType","bodyName","drawerName","identType","identCode","province","city","bankName","bankAccount","drawerTel","amendsMoney","defaultAmendsMoney","info","reportCaseTime"],importFlag:!0},dialogTableData:[],allMoney:0,devoteInsuTime:null}},created:function(){void 0===this.$Cookies.get("user")?this.$router.push({path:"/"}):(this.user=JSON.parse(this.$Cookies.get("user")).nikename,"亚太"==this.user&&this.tabData.splice(2,1)),this.loadlist()},methods:{returnData:function(e,t){var a=[];return s()(e).forEach(function(t){a=e[t]}),a},loadlist:function(e){var t=this,a=this,n=0;a.formInline.devoteInsuStartTime=a.devoteInsuTime?o()(a.devoteInsuTime[0]).format("YYYY-MM-DD 00:00:00"):"",a.formInline.devoteInsuEndTime=a.devoteInsuTime?o()(a.devoteInsuTime[1]).format("YYYY-MM-DD 00:00:00"):"",this.$post(this.$api+"/insuOrder/getInsuOrderListByPageAndAmendsForInsu",a.formInline,{headers:this.$gateway.insurance}).then(function(e){e.success&&0==e.code?(n+=1,0==e.data.list.length&&1==n&&1!=a.formInline.pageParam.pageNo&&(a.formInline.pageParam.pageNo=1,a.loadlist()),a.tableData=e.data.list,a.formInline.totalCount=e.data.totalCount,a.formInline.totalPage=e.data.totalPage):t.$message(e.message)},function(e){t.$message(e)})},throughClaims:function(){var e=this,t=this,a=t.checkedCities.join(",");this.$post(this.$api+"insuOrder/getInsuOrderPayCont/",{amendsIds:a},{headers:this.$gateway.insurance}).then(function(e){e.success&&0==e.code&&(t.dialogTableData=e.data,e.data.map(function(e){e.money&&(t.allMoney+=e.money)}))},function(t){e.$message(t)})},claimsSure:function(){var e=this;this.$put(this.$api+"/insuOrder/updateInsuPaystatus",{amendidList:this.checkedCities},{headers:this.$gateway.insurance}).then(function(t){t.success&&0==t.code?(e.loadlist(),e.checkAll=!1):e.$message(t.message)},function(t){e.$message(t)})},checkOne:function(e,t){var a=this;this.checkedCities=[],e.map(function(e,t,n){for(var s in e)a.insuAmendsId=s,a.checkedCities.push(s)})},exportOne:function(){var e=this;1===this.checkedCities.length?this.$exportExcel(this.$api+"base/getfile/allFiles",{id:this.insuAmendsId},this.$gateway.insurance).then(function(t){e.$message({type:"success",message:"导出成功"})}):0===this.checkedCities.length?this.$message({type:"error",message:"最少选择一批的数据！"}):this.$message({type:"error",message:"最多选择一批的数据！"})},handleCheckedCitiesChange:function(e){this.checkAll=e.length===this.tableData.length,this.isIndeterminate=e.length>0&&e.length<this.tableData.length},handleSelectionChange:function(e){console.log(e);var t=[];this.tableData.map(function(e,a,n){for(var s in e)t.push(s)}),this.checkedCities=e?t:[],this.isIndeterminate=!1},resetData:function(){this.formInline={status:8,bodyName:"",applyCode:"",ordercode:"",devoteInsuStartTime:"",devoteInsuEndTime:"",company:JSON.parse(this.$Cookies.get("user")).nikename,productType:"",pageParam:{pageNo:1,pageSize:10}},this.loadlist()},onSubmit:function(){console.log("submit!")},handleSizeChange:function(e){this.formInline.pageParam.pageSize=e,this.loadlist()},handleCurrentChange:function(e){this.isIndeterminate=!1,this.formInline.pageParam.pageNo=e,this.loadlist()},exportExcel:function(){var e=this;this.exporeExcelObject.insuOrderVO=this.formInline,this.exporeExcelObject.insuOrderVO.isImport=1==this.is_import?1:"",console.log(this.exporeExcelObject),this.$exportExcel(this.$api+"insuOrder/importInsuOrderExcel",this.exporeExcelObject,this.$gateway.insurance).then(function(t){e.$message({type:"success",message:"导出成功"})})}}},r={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"bthBox"},e._l(e.tabData,function(t){return a("el-button",{key:t.name,attrs:{type:"danger",round:"",value:t.id,size:"small"},on:{click:function(a){e.formInline.productType=t.id,e.loadlist()}}},[e._v(e._s(t.name)+"\n            "),t.id==e.formInline.productType?a("i",{staticClass:"el-icon-check"}):e._e()])}),1),e._v(" "),a("div",{staticClass:"searchCondition"},[a("el-form",{staticClass:"demo-form-inline",attrs:{model:e.formInline,inline:!0,"label-width":"110px"}},[a("el-row",[a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"申请号："}},[a("el-input",{staticClass:"w130",attrs:{placeholder:"申请号",size:"small"},model:{value:e.formInline.applyCode,callback:function(t){e.$set(e.formInline,"applyCode",t)},expression:"formInline.applyCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"订单编号："}},[a("el-input",{staticClass:"w130",attrs:{placeholder:"订单编号",size:"small"},model:{value:e.formInline.ordercode,callback:function(t){e.$set(e.formInline,"ordercode",t)},expression:"formInline.ordercode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:5}},[a("el-form-item",{attrs:{label:"被保险人名称："}},[a("el-input",{staticClass:"w130",attrs:{placeholder:"被保险人名称",size:"small"},model:{value:e.formInline.bodyName,callback:function(t){e.$set(e.formInline,"bodyName",t)},expression:"formInline.bodyName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[e._v("投保日期：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange",clearable:!1,size:"small","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.devoteInsuTime,callback:function(t){e.devoteInsuTime=t},expression:"devoteInsuTime"}})],1)])],1),e._v(" "),a("el-row",{staticStyle:{"margin-top":"20px"}},[a("el-col",{attrs:{span:12}},[a("el-button",{attrs:{plain:"",icon:"el-icon-upload2",disabled:0==e.checkedCities.length,size:"small"},on:{click:function(t){e.dialogTableVisible=!0,e.throughClaims()}}},[e._v("\n                    支付成功\n                  ")]),e._v(" "),a("el-button",{attrs:{plain:"",icon:"el-icon-upload2",size:"small"},on:{click:function(t){return e.exportExcel()}}},[e._v("导出订单")]),e._v(" "),a("el-checkbox",{attrs:{size:"small"},model:{value:e.is_import,callback:function(t){e.is_import=t},expression:"is_import"}},[e._v("过滤掉已导出订单")]),e._v(" "),a("el-button",{attrs:{plain:"",icon:"el-icon-upload2",size:"small"},on:{click:function(t){return e.exportOne()}}},[e._v("导出理赔资料")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:11}},[a("el-button",{staticClass:"searchBtn",attrs:{type:"button",size:"small"},on:{click:function(t){e.loadlist(),e.currentPage=1}}},[e._v("查询")]),e._v(" "),a("el-button",{staticClass:"reset",attrs:{type:"button",size:"small"},on:{click:e.resetData}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"tableBox"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:""},on:{select:e.checkOne,"selection-change":e.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"50","header-align":"center"}}),e._v(" "),a("el-table-column",{attrs:{label:"保险编号",prop:"inseCode","header-align":"center",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"inseCode"),function(t){return a("p",{staticClass:"batchList"},[a("router-link",{staticClass:"text_ellipsis",attrs:{to:{path:"/webIndex/Details/"+t.id}}},[1==t.info?a("el-badge",{attrs:{"is-dot":""}}):e._e(),e._v(" "+e._s(t.inseCode)+"\n                ")],1)],1)})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"ordercode",label:"订单编号","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"ordercode"),function(t){return a("p",{staticClass:"batchList"},[e._v(e._s(t.ordercode))])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"productType",label:"保险类型","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"productType"),function(t){return a("p",{staticClass:"batchList"},[1==t.productType?a("span",[e._v("盲查保")]):e._e(),e._v(" "),2==t.productType?a("span",[e._v("果保商标")]):e._e(),e._v(" "),3==t.productType?a("span",[e._v("全程保")]):e._e(),e._v(" "),4==t.productType?a("span",[e._v("果保专利")]):e._e()])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"insuMoney",label:"保费","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"insuMoney"),function(t){return a("p",{staticClass:"batchList"},[e._v(e._s(t.insuMoney))])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"bodyName",label:"被保险人名称","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"bodyName"),function(t){return a("p",{staticClass:"batchList"},[e._v(e._s(t.bodyName))])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"applyCode",label:"申请号","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"applyCode"),function(t){return a("p",{staticClass:"batchList"},[e._v(e._s(t.applyCode))])})}}])}),e._v(" "),a("el-table-column",{attrs:{prop:"defaultAmendsMoney",label:"理赔金额","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"defaultAmendsMoney"),function(t){return a("p",{staticClass:"batchList"},[e._v(e._s(t.amendsMoney))])})}}])})],1)],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.formInline.totalCount>10,expression:"formInline.totalCount>10"}],staticClass:"block",staticStyle:{clear:"both","margin-top":"10px"}},[a("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.formInline.pageParam.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.formInline.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),e._v(" "),a("el-dialog",{attrs:{title:"请确认支付金额",visible:e.dialogTableVisible},on:{"update:visible":function(t){e.dialogTableVisible=t}}},[a("el-table",{attrs:{data:e.dialogTableData}},[a("el-table-column",{attrs:{label:"保险类型","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return[1==t.row.productType?a("span",[e._v("盲查保")]):e._e(),e._v(" "),2==t.row.productType?a("span",[e._v("果保商标")]):e._e(),e._v(" "),3==t.row.productType?a("span",[e._v("全程保")]):e._e(),e._v(" "),4==t.row.productType?a("span",[e._v("果保专利")]):e._e(),e._v(" "),5==t.row.productType?a("span",[e._v("综合保险业务")]):e._e()]}}])}),e._v(" "),a("el-table-column",{attrs:{property:"orderNumber",label:"订单数量","header-align":"center"}}),e._v(" "),a("el-table-column",{attrs:{property:"money",label:"金额","header-align":"center"}})],1),e._v(" "),a("p",{staticStyle:{"text-align":"right"}},[e._v("总计："),a("span",[e._v(e._s(e.allMoney))])]),e._v(" "),a("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[a("el-button",{on:{click:function(t){e.dialogTableVisible=!1}}},[e._v("取 消")]),e._v(" "),a("el-button",{attrs:{type:"primary"},on:{click:function(t){e.dialogTableVisible=!1,e.claimsSure()}}},[e._v("确 定")])],1)],1)],1)},staticRenderFns:[]};var c=a("C7Lr")(l,r,!1,function(e){a("Dq6M")},"data-v-4d328848",null);t.default=c.exports}});
//# sourceMappingURL=4.2fcaf411e5bf91135741.js.map
