webpackJsonp([10],{IZPJ:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("TEKD");var s=a("ryJa"),o=a.n(s),r={name:"homeList",data:function(){return{user:null,is_icon:0,tableData:[],checked:"true",searchForm:{ordercode:"",applyCode:"",productType:"",devoteInsuStartTime:"",devoteInsuEndTime:"",status:"",isInsu:2,pageParam:{pageNo:1,pageSize:10}},totalCount:null,totalPage:null,is_import:!1,exporeExcelObject:{insuOrderVO:{},chArray:["保险编号","订单编号","申请号","投保日期","报案日期","被保险人名称","保险类型","订单状态","保费","理赔金额"],enArray:["inseCode","ordercode","applyCode","devoteInsuTime","reportCaseTime","bodyName","productType","status","insuMoney","amendsMoney"],importFlag:!0},devoteInsuTime:[]}},created:function(){void 0===this.$Cookies.get("user")?this.$router.push({path:"/"}):this.user=JSON.parse(this.$Cookies.get("user")).nikename,this.devoteInsuTime[0]=o()(o()().add(-30,"days")).format("YYYY-MM-DD"),this.devoteInsuTime[1]=o()(o()(new Date)).format("YYYY-MM-DD"),this.searchForm.company=JSON.parse(this.$Cookies.get("user")).nikename,this.loadlist()},methods:{loadlist:function(){var e=this,t=this,a=0;t.searchForm.devoteInsuStartTime=t.devoteInsuTime?o()(t.devoteInsuTime[0]).format("YYYY-MM-DD 00:00:00"):"",t.searchForm.devoteInsuEndTime=t.devoteInsuTime?o()(t.devoteInsuTime[1]).format("YYYY-MM-DD 00:00:00"):"",this.$post(this.$api+"insuOrder/getInsuOrderListByPage",t.searchForm,{headers:this.$gateway.insurance}).then(function(s){s.success&&0==s.code?(a+=1,0==s.data.list.length&&1==a&&1!=t.searchForm.pageParam.pageNo&&(t.searchForm.pageParam.pageNo=1,t.loadlist()),t.tableData=s.data.list,t.tableData.map(function(e){e.devoteInsuTime=e.devoteInsuTime?o()(e.devoteInsuTime).format("YYYY-MM-DD"):"",e.reportCaseTime=e.reportCaseTime?o()(e.reportCaseTime).format("YYYY-MM-DD"):""}),t.totalCount=s.data.totalCount,t.totalPage=s.data.totalPage):e.$message(s.message)},function(t){e.$message(t)})},onSubmit:function(){this.loadlist()},resetForm:function(){this.searchForm={ordercode:"",applyCode:"",productType:"",devoteInsuStartTime:"",devoteInsuEndTime:"",status:"",isInsu:2,pageParam:{pageNo:1,pageSize:10}},this.searchForm.company=JSON.parse(this.$Cookies.get("user")).nikename,this.is_icon=0,this.devoteInsuTime[0]=o()(o()().add(-30,"days")).format("YYYY-MM-DD"),this.devoteInsuTime[1]=o()(o()(new Date)).format("YYYY-MM-DD")},tiggerGroductType:function(){this.searchForm.productType=0==this.is_icon?"":this.is_icon,this.loadlist()},formatProductType:function(e,t){return 1==e.productType?"盲查保":2==e.productType?"果保商标":3==e.productType?"全程保":4==e.productType?"果保专利":void 0},formatStatus:function(e,t){return 1==e.status?"已支付":2==e.status?"已报件":3==e.status?"已投保":4==e.status?"收到驳回":5==e.status?"待报案":6==e.status?"待理赔":7==e.status?"理赔未通过":8==e.status?"待支付":9==e.status?"支付失败":10==e.status?"理赔完成":11==e.status?"不予理赔":void 0},handleSizeChange:function(e){this.searchForm.pageParam.pageSize=e,this.loadlist()},handleCurrentChange:function(e){this.searchForm.pageParam.pageNo=e,this.loadlist()},exportExcel:function(){var e=this;this.exporeExcelObject.insuOrderVO=this.searchForm,this.exporeExcelObject.insuOrderVO.isImport=1==this.is_import?1:"",this.$exportExcel(this.$api+"insuOrder/importInsuOrderExcel",this.exporeExcelObject,this.$gateway.insurance).then(function(t){e.$message({type:"success",message:"导出成功"})})}}},l={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("div",{staticClass:"bthBox"},[a("el-button",{attrs:{type:"danger",round:"",size:"small"},on:{click:function(t){e.is_icon=0,e.tiggerGroductType()}}},[e._v("全部 "),0==e.is_icon?a("i",{staticClass:"el-icon-check"}):e._e()]),e._v(" "),a("el-button",{attrs:{type:"danger",round:"",size:"small"},on:{click:function(t){e.is_icon=20,e.tiggerGroductType()}}},[e._v("商标综合保险 "),20==e.is_icon?a("i",{staticClass:"el-icon-check"}):e._e()]),e._v(" "),"亚太"!=e.user?a("el-button",{attrs:{type:"danger",round:"",size:"small"},on:{click:function(t){e.is_icon=4,e.tiggerGroductType()}}},[e._v("果保专利保险 "),4==e.is_icon?a("i",{staticClass:"el-icon-check"}):e._e()]):e._e(),e._v(" "),a("el-button",{attrs:{type:"danger",round:"",size:"small"},on:{click:function(t){e.is_icon=1,e.tiggerGroductType()}}},[e._v("盲查保险 "),1==e.is_icon?a("i",{staticClass:"el-icon-check"}):e._e()])],1),e._v(" "),a("div",{staticClass:"searchCondition"},[a("el-form",{ref:"searchForm",staticClass:"demo-form-inline",attrs:{model:e.searchForm,inline:!0,"label-width":"110px"}},[a("el-row",[a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"申请号："}},[a("el-input",{staticClass:"w130",attrs:{placeholder:"申请号",size:"small"},model:{value:e.searchForm.applyCode,callback:function(t){e.$set(e.searchForm,"applyCode",t)},expression:"searchForm.applyCode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"订单编号："}},[a("el-input",{staticClass:"w130",attrs:{placeholder:"订单编号",size:"small"},model:{value:e.searchForm.ordercode,callback:function(t){e.$set(e.searchForm,"ordercode",t)},expression:"searchForm.ordercode"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"被保险人名称："}},[a("el-input",{staticClass:"w130",attrs:{placeholder:"被保险人名称",size:"small"},model:{value:e.searchForm.bodyName,callback:function(t){e.$set(e.searchForm,"bodyName",t)},expression:"searchForm.bodyName"}})],1)],1),e._v(" "),a("el-col",{attrs:{span:4}},[a("el-form-item",{attrs:{label:"订单状态："}},[a("el-select",{staticClass:"w130",attrs:{placeholder:"订单状态",size:"small"},model:{value:e.searchForm.status,callback:function(t){e.$set(e.searchForm,"status",t)},expression:"searchForm.status"}},[a("el-option",{attrs:{label:"全部",value:""}}),e._v(" "),a("el-option",{attrs:{label:"已退款",value:"-1"}}),e._v(" "),a("el-option",{attrs:{label:"投保成功",value:"3"}}),e._v(" "),a("el-option",{attrs:{label:"待报案",value:"20"}}),e._v(" "),a("el-option",{attrs:{label:"待理赔",value:"6"}}),e._v(" "),a("el-option",{attrs:{label:"待支付",value:"8"}}),e._v(" "),a("el-option",{attrs:{label:"理赔完成",value:"10"}}),e._v(" "),a("el-option",{attrs:{label:"不予理赔",value:"11"}})],1)],1)],1),e._v(" "),a("el-col",{attrs:{span:8}},[a("div",{staticClass:"block"},[a("span",{staticClass:"demonstration"},[e._v("投保日期：")]),e._v(" "),a("el-date-picker",{attrs:{type:"daterange",clearable:!1,size:"small","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.devoteInsuTime,callback:function(t){e.devoteInsuTime=t},expression:"devoteInsuTime"}})],1)])],1),e._v(" "),a("el-row",{staticClass:"text_right",staticStyle:{"margin-top":"20px"}},[a("el-col",{staticClass:"text-left",attrs:{span:12}},[a("el-button",{attrs:{plain:"",icon:"el-icon-upload2",size:"small"},on:{click:function(t){return e.exportExcel()}}},[e._v("导出订单")]),e._v(" "),a("el-checkbox",{attrs:{size:"small"},model:{value:e.is_import,callback:function(t){e.is_import=t},expression:"is_import"}},[e._v("过滤掉已导出订单")])],1),e._v(" "),a("el-col",{staticStyle:{"text-align":"right"},attrs:{span:12}},[a("el-button",{staticClass:"searchBtn",attrs:{size:"small"},on:{click:function(t){return e.onSubmit()}}},[e._v("查询")]),e._v(" "),a("el-button",{staticClass:"reset",attrs:{size:"small"},on:{click:function(t){return e.resetForm()}}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),a("div",{staticClass:"tableBox"},[a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,stripe:"",border:"",height:"550",size:"small"}},[a("el-table-column",{attrs:{"header-align":"center",label:"保险编号"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("router-link",{staticClass:"text_ellipsis",attrs:{to:{path:"/webIndex/Details/"+t.row.id}}},[1==t.row.info?a("el-badge",{attrs:{"is-dot":""}}):e._e(),e._v(e._s(t.row.inseCode))],1)]}}])}),e._v(" "),a("el-table-column",{attrs:{width:"140","header-align":"center",prop:"ordercode",label:"订单编号"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",prop:"applyCode",label:"申请号"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",prop:"devoteInsuTime",width:"160px",label:"投保日期"}}),e._v(" "),a("el-table-column",{attrs:{width:"160px","header-align":"center",prop:"reportCaseTime",label:"报案日期"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",prop:"bodyName",label:"被保险人名称"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",prop:"productType",formatter:e.formatProductType,label:"保险类型"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",prop:"status",formatter:e.formatStatus,label:"订单状态"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",prop:"insuMoney",label:"保费"}}),e._v(" "),a("el-table-column",{attrs:{"header-align":"center",prop:"amendsMoney",label:"理赔金额"}})],1),e._v(" "),a("div",{directives:[{name:"show",rawName:"v-show",value:e.totalCount>10,expression:"totalCount>10"}],staticClass:"block"},[a("el-pagination",{attrs:{"current-page":e.searchForm.pageParam.pageNo,"page-size":e.searchForm.pageParam.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var i=a("C7Lr")(r,l,!1,function(e){a("S2x0")},"data-v-821b6f92",null);t.default=i.exports},S2x0:function(e,t){}});
//# sourceMappingURL=10.58527bafec4f320609e8.js.map
