webpackJsonp([3],{"99up":function(e,t){},IHur:function(e,t,n){var a=n("A2+p"),s=n("H5bT");n("Y2FG")("keys",function(){return function(e){return s(a(e))}})},Y2FG:function(e,t,n){var a=n("2AZ7"),s=n("/KQr"),i=n("D86D");e.exports=function(e,t){var n=(s.Object||{})[e]||Object[e],o={};o[e]=t(n),a(a.S+a.F*i(function(){n(1)}),"Object",o)}},ZLEe:function(e,t,n){e.exports={default:n("m5p0"),__esModule:!0}},m5p0:function(e,t,n){n("IHur"),e.exports=n("/KQr").Object.keys},pSzJ:function(e,t){},uVl8:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var a=n("ZLEe"),s=n.n(a),i=(n("TEKD"),n("ryJa")),o=n.n(i),l={name:"homeList",delimiters:["${","}"],data:function(){return{checkAll:!1,isIndeterminate:!1,currentPage:1,tableData:[],checkedCities:[],tabData:[{name:"全部",id:""},{name:"商标综合保险",id:"20"},{name:"果保专利保险",id:"4"},{name:"盲查保险",id:"1"}],formInline:{status:6,bodyName:"",applyCode:"",ordercode:"",devoteInsuStartTime:"",devoteInsuEndTime:"",company:JSON.parse(this.$Cookies.get("user")).nikename,productType:"",pageParam:{pageNo:1,pageSize:10}},is_import:!1,exporeExcelObject:{insuOrderVO:{},chArray:["订单号","商品名称","注册类别","商标超项数","申请日期","申请号","驳回类型","申请人","领款人名称","证件类型","证件号码","省份名称","城市名称","开户行","银行账户","领款人手机号","理赔金额","理赔限额","备注","报案时间 "],enArray:["ordercode","applyName","category","itermNum","applyTime","applyCode","rejectType","bodyName","drawerName","identType","identCode","province","city","bankName","bankAccount","drawerTel","amendsMoney","defaultAmendsMoney","info","reportCaseTime"],importFlag:!0},devoteInsuTime:null}},created:function(){void 0===this.$Cookies.get("user")?this.$router.push({path:"/"}):(this.user=JSON.parse(this.$Cookies.get("user")).nikename,"亚太"==this.user&&this.tabData.splice(2,1)),this.loadlist()},methods:{returnData:function(e,t){var n=[];return s()(e).forEach(function(t){n=e[t]}),n},loadlist:function(){var e=this,t=this,n=0;t.formInline.devoteInsuStartTime=t.devoteInsuTime?o()(t.devoteInsuTime[0]).format("YYYY-MM-DD 00:00:00"):"",t.formInline.devoteInsuEndTime=t.devoteInsuTime?o()(t.devoteInsuTime[1]).format("YYYY-MM-DD 00:00:00"):"",this.$post(this.$api+"/insuOrder/getInsuOrderListByPageAndAmendsForInsu",t.formInline,{headers:this.$gateway.insurance}).then(function(a){a.success&&0==a.code?(n+=1,0==a.data.list.length&&1==n&&1!=t.formInline.pageParam.pageNo&&(t.formInline.pageParam.pageNo=1,t.loadlist()),t.tableData=a.data.list,t.formInline.totalCount=a.data.totalCount,t.formInline.totalPage=a.data.totalPage):e.$message(a.message)},function(t){e.$message(t)})},throughClaims:function(){var e=this,t=this.$createElement;this.$msgbox({title:"提示",message:t("p",null,[t("span",null,"总计选择了"+this.checkedCities.length+"条订单，确认将这些订单批量审核通过 ")]),showCancelButton:!0,confirmButtonText:"确定",cancelButtonText:"取消",beforeClose:function(t,n,a){"confirm"===t?(e.$put(e.$api+"/insuOrder/updateInsuPassStatus",{amendidList:e.checkedCities}).then(function(t){t.success&&0==t.code?(e.loadlist(),e.checkAll=!1,e.$message("提交成功，进入支付环节，请及时给客户打款！")):e.$message(t.message)},function(t){e.$message(t)}),a()):"cancel"===t&&a()}}).then(function(t){e.$message({type:"info",message:"action: "+t})})},checkOne:function(e,t){var n=this;this.checkedCities=[],e.map(function(e,t,a){for(var s in e)n.insuAmendsId=s,n.checkedCities.push(s)})},exportOne:function(){var e=this;1==this.checkedCities.length?this.$exportExcel(this.$api+"base/getfile/allFiles",{id:this.insuAmendsId},this.$gateway.insurance).then(function(t){e.$message({type:"success",message:"导出成功"})}):0==this.checkedCities.length?this.$message({type:"error",message:"最少选择一批的数据！"}):this.$message({type:"error",message:"最多选择一批的数据！"})},handleCheckedCitiesChange:function(e){this.checkAll=e.length===this.tableData.length,this.isIndeterminate=e.length>0&&e.length<this.tableData.length},handleSelectionChange:function(e){var t=[];this.tableData.map(function(e,n,a){for(var s in e)t.push(s)}),this.checkedCities=e?t:[],this.isIndeterminate=!1},resetData:function(){this.formInline={status:"6",bodyName:"",applyCode:"",ordercode:"",devoteInsuStartTime:"",devoteInsuEndTime:"",company:JSON.parse(this.$Cookies.get("user")).nikename,productType:"",pageParam:{pageNo:1,pageSize:10}},this.loadlist()},onSubmit:function(){console.log("submit!")},handleSizeChange:function(e){this.formInline.pageParam.pageSize=e,this.loadlist()},handleCurrentChange:function(e){this.isIndeterminate=!1,this.formInline.pageParam.pageNo=e,this.loadlist()},exportExcel:function(){var e=this;this.exporeExcelObject.insuOrderVO=this.formInline,this.exporeExcelObject.insuOrderVO.isImport=1==this.is_import?1:"",console.log(this.exporeExcelObject),this.$exportExcel(this.$api+"insuOrder/importInsuOrderExcel",this.exporeExcelObject,this.$gateway.insurance).then(function(t){e.$message({type:"success",message:"导出成功"})})}}},r={render:function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"bthBox"},e._l(e.tabData,function(t){return n("el-button",{key:t.name,attrs:{type:"danger",round:"",value:t.id,size:"small"},on:{click:function(n){e.formInline.productType=t.id,e.loadlist()}}},[e._v(e._s(t.name)+"\n            "),t.id==e.formInline.productType?n("i",{staticClass:"el-icon-check"}):e._e()])}),1),e._v(" "),n("div",{staticClass:"searchCondition"},[n("el-form",{ref:"formInline",staticClass:"demo-form-inline",attrs:{model:e.formInline,inline:!0,"label-width":"110px"}},[n("el-row",[n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{label:"申请号："}},[n("el-input",{staticClass:"w130",attrs:{placeholder:"申请号",size:"small"},model:{value:e.formInline.applyCode,callback:function(t){e.$set(e.formInline,"applyCode",t)},expression:"formInline.applyCode"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{label:"订单编号："}},[n("el-input",{staticClass:"w130",attrs:{placeholder:"订单编号",size:"small"},model:{value:e.formInline.ordercode,callback:function(t){e.$set(e.formInline,"ordercode",t)},expression:"formInline.ordercode"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:5}},[n("el-form-item",{attrs:{label:"被保险人名称："}},[n("el-input",{staticClass:"w130",attrs:{placeholder:"被保险人名称",size:"small"},model:{value:e.formInline.bodyName,callback:function(t){e.$set(e.formInline,"bodyName",t)},expression:"formInline.bodyName"}})],1)],1),e._v(" "),n("el-col",{attrs:{span:8}},[n("div",{staticClass:"block"},[n("span",{staticClass:"demonstration"},[e._v("投保日期：")]),e._v(" "),n("el-date-picker",{attrs:{type:"daterange",clearable:!1,size:"small","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.devoteInsuTime,callback:function(t){e.devoteInsuTime=t},expression:"devoteInsuTime"}})],1)])],1),e._v(" "),n("el-row",{staticStyle:{"margin-top":"20px"}},[n("el-col",{attrs:{span:12}},[n("el-button",{attrs:{plain:"",icon:"el-icon-upload2",disabled:0==e.checkedCities.length,size:"small"},on:{click:e.throughClaims}},[e._v("\n                    理赔通过\n                  ")]),e._v(" "),n("el-button",{attrs:{plain:"",icon:"el-icon-upload2",size:"small"},on:{click:function(t){return e.exportExcel()}}},[e._v("导出订单")]),e._v(" "),n("el-checkbox",{attrs:{size:"small"},model:{value:e.is_import,callback:function(t){e.is_import=t},expression:"is_import"}},[e._v("过滤掉已导出订单")]),e._v(" "),n("el-button",{attrs:{plain:"",icon:"el-icon-upload2",size:"small"},on:{click:function(t){return e.exportOne()}}},[e._v("导出理赔资料")])],1),e._v(" "),n("el-col",{staticStyle:{"text-align":"right"},attrs:{span:11}},[n("el-button",{staticClass:"searchBtn",attrs:{plain:"",size:"small"},on:{click:function(t){e.loadlist(),e.currentPage=1}}},[e._v("查询")]),e._v(" "),n("el-button",{staticClass:"reset",attrs:{plain:"",size:"small"},on:{click:e.resetData}},[e._v("重置")])],1)],1)],1)],1),e._v(" "),n("div",{staticClass:"tableBox"},[n("el-table",{staticStyle:{width:"100%"},attrs:{data:e.tableData,size:"small",border:""},on:{select:e.checkOne,"selection-change":e.handleSelectionChange}},[n("el-table-column",{attrs:{type:"selection",width:"50","header-align":"center"}}),e._v(" "),n("el-table-column",{attrs:{label:"保险编号",prop:"inseCode","header-align":"center",width:"230"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"inseCode"),function(t){return n("p",{staticClass:"batchList"},[n("router-link",{staticClass:"text_ellipsis",attrs:{to:{path:"/webIndex/Details/"+t.id}}},[1==t.info?n("el-badge",{attrs:{"is-dot":""}}):e._e(),e._v(" "+e._s(t.inseCode)+"\n                ")],1)],1)})}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"ordercode",label:"订单编号","header-align":"center",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"ordercode"),function(t){return n("p",{staticClass:"batchList"},[e._v(e._s(t.ordercode))])})}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"productType",label:"保险类型","header-align":"center"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"productType"),function(t){return n("p",{staticClass:"batchList"},[1==t.productType?n("span",[e._v("盲查保")]):e._e(),e._v(" "),2==t.productType?n("span",[e._v("果保商标")]):e._e(),e._v(" "),3==t.productType?n("span",[e._v("全程保")]):e._e(),e._v(" "),4==t.productType?n("span",[e._v("果保专利")]):e._e()])})}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"insuMoney",label:"保费","header-align":"center",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"insuMoney"),function(t){return n("p",{staticClass:"batchList"},[e._v(e._s(t.insuMoney))])})}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"bodyName",label:"被保险人名称","header-align":"center",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"bodyName"),function(t){return n("p",{staticClass:"batchList"},[e._v(e._s(t.bodyName))])})}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"applyCode",label:"申请号","header-align":"center",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"applyCode"),function(t){return n("p",{staticClass:"batchList"},[e._v(e._s(t.applyCode))])})}}])}),e._v(" "),n("el-table-column",{attrs:{prop:"defaultAmendsMoney",label:"理赔金额","header-align":"center",width:"220"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(e.returnData(t.row,"defaultAmendsMoney"),function(t){return n("p",{staticClass:"batchList"},[e._v(e._s(t.amendsMoney))])})}}])})],1),e._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:e.formInline.totalCount>10,expression:"formInline.totalCount>10"}],staticClass:"block",staticStyle:{clear:"both","margin-top":"10px"}},[n("el-pagination",{attrs:{"current-page":e.currentPage,"page-size":e.formInline.pageParam.pageSize,layout:"total, sizes, prev, pager, next, jumper",total:e.formInline.totalCount},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1)],1)])},staticRenderFns:[]};var c=n("C7Lr")(l,r,!1,function(e){n("pSzJ"),n("99up")},"data-v-d99c50e6",null);t.default=c.exports}});
//# sourceMappingURL=3.313a902062dc9cdf0793.js.map
